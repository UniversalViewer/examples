(window.webpackJsonpUV=window.webpackJsonpUV||[]).push([[11],{122:function(t,e,n){"use strict";n.r(e);var i,o=n(3),s=n(41),r=n(31),a=n(28),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){return t.call(this,e)||this}return h(e,t),e.prototype.create=function(){this.setConfig("downloadDialogue"),t.prototype.create.call(this)},e.prototype.open=function(e){t.prototype.open.call(this,e),this.addEntireFileDownloadOptions(),this.$downloadOptions.find("li:visible").length?this.$noneAvailable.hide():this.$noneAvailable.show(),this.resize()},e.prototype.isDownloadOptionAvailable=function(e){return t.prototype.isDownloadOptionAvailable.call(this,e)},e}(a.a),c=n(30),l=n(43),u=n(34),d=function(){function t(){}return t.namespace="pdfExtension.",t.PDF_LOADED=t.namespace+"pdfLoaded",t.PAGE_INDEX_CHANGED=t.namespace+"pageIndexChanged",t.SEARCH=t.namespace+"search",t}(),f=n(4),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{h(i.next(t))}catch(t){s(t)}}function a(t){try{h(i.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}h((i=i.apply(t,e||[])).next())}))},g=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},v=function(t){function e(e){var n=t.call(this,e)||this;return n._maxScale=5,n._minScale=.7,n._nextButtonEnabled=!1,n._pageIndex=1,n._pageIndexPending=null,n._pageRendering=!1,n._pdfDoc=null,n._prevButtonEnabled=!1,n._scale=.7,n}return _(e,t),e.prototype.create=function(){var e=this;this.setConfig("pdfCenterPanel"),t.prototype.create.call(this),this._$pdfContainer=$('<div class="pdfContainer"></div>'),this._$canvas=$("<canvas></canvas>"),this._$spinner=$('<div class="spinner"></div>'),this._canvas=this._$canvas[0],this._ctx=this._canvas.getContext("2d"),this._$prevButton=$('<div class="btn prev" tabindex="0"></div>'),this._$nextButton=$('<div class="btn next" tabindex="0"></div>'),this._$zoomInButton=$('<div class="btn zoomIn" tabindex="0"></div>'),this._$zoomOutButton=$('<div class="btn zoomOut" tabindex="0"></div>'),f.b.getBool(this.extension.data.config.options.usePdfJs,!1)&&(this.$content.append(this._$spinner),this.$content.append(this._$prevButton),this.$content.append(this._$nextButton),this.$content.append(this._$zoomInButton),this.$content.append(this._$zoomOutButton)),this._$pdfContainer.append(this._$canvas),this.$content.prepend(this._$pdfContainer),this.component.subscribe(o.a.OPEN_EXTERNAL_RESOURCE,(function(t){e.openMedia(t)})),this.component.subscribe(o.a.FIRST,(function(){e._pdfDoc&&(e._pageIndex=1,e._queueRenderPage(e._pageIndex))})),this.component.subscribe(o.a.PREV,(function(){e._pdfDoc&&(e._pageIndex<=1||(e._pageIndex--,e._queueRenderPage(e._pageIndex)))})),this.component.subscribe(o.a.NEXT,(function(){e._pdfDoc&&(e._pageIndex>=e._pdfDoc.numPages||(e._pageIndex++,e._queueRenderPage(e._pageIndex)))})),this.component.subscribe(o.a.LAST,(function(){e._pdfDoc&&(e._pageIndex=e._pdfDoc.numPages,e._queueRenderPage(e._pageIndex))})),this.component.subscribe(o.a.CANVAS_INDEX_CHANGED,(function(){e._pdfDoc&&(e._pageIndex=1,e._queueRenderPage(e._pageIndex))})),this.component.subscribe(d.SEARCH,(function(t){e._pdfDoc&&(t<1||t>e._pdfDoc.numPages||(e._pageIndex=t,e._queueRenderPage(e._pageIndex)))})),this._$prevButton.onPressed((function(t){t.preventDefault(),e._prevButtonEnabled&&e.component.publish(o.a.PREV)})),this.disablePrevButton(),this._$nextButton.onPressed((function(t){t.preventDefault(),e._nextButtonEnabled&&e.component.publish(o.a.NEXT)})),this.disableNextButton(),this._$zoomInButton.onPressed((function(t){t.preventDefault();var n=e._scale+.5;n<e._maxScale?e._scale=n:e._scale=e._maxScale,e._render(e._pageIndex)})),this._$zoomOutButton.onPressed((function(t){t.preventDefault();var n=e._scale-.5;n>e._minScale?e._scale=n:e._scale=e._minScale,e._render(e._pageIndex)}))},e.prototype.disablePrevButton=function(){this._prevButtonEnabled=!1,this._$prevButton.addClass("disabled")},e.prototype.enablePrevButton=function(){this._prevButtonEnabled=!0,this._$prevButton.removeClass("disabled")},e.prototype.hidePrevButton=function(){this.disablePrevButton(),this._$prevButton.hide()},e.prototype.showPrevButton=function(){this.enablePrevButton(),this._$prevButton.show()},e.prototype.disableNextButton=function(){this._nextButtonEnabled=!1,this._$nextButton.addClass("disabled")},e.prototype.enableNextButton=function(){this._nextButtonEnabled=!0,this._$nextButton.removeClass("disabled")},e.prototype.hideNextButton=function(){this.disableNextButton(),this._$nextButton.hide()},e.prototype.showNextButton=function(){this.enableNextButton(),this._$nextButton.show()},e.prototype.openMedia=function(t){return b(this,void 0,void 0,(function(){var e,i,s,r,a,h,p;return g(this,(function(c){switch(c.label){case 0:return this._$spinner.show(),[4,this.extension.getExternalResources(t)];case 1:return c.sent(),e=null,i=this.extension.helper.getCurrentCanvas(),s=this.extension.getMediaFormats(i),r=i.id,e=s&&s.length?s[0].id:i.id,f.b.getBool(this.extension.data.config.options.usePdfJs,!1)?[3,3]:(a=window,[4,n.e(5).then(n.t.bind(null,119,7))]);case 2:return a.PDFObject=c.sent(),window.PDFObject.embed(r,".pdfContainer",{id:"PDF"}),[3,6];case 3:return[4,Promise.all([n.e(13),n.e(4)]).then(n.t.bind(null,120,7))];case 4:return PDFJS=c.sent(),PDFJS.disableWorker=!0,h={url:e,withCredentials:i.externalResource.isAccessControlled()},[4,PDFJS.getDocument(h)];case 5:p=c.sent(),this._pdfDoc=p,this._render(this._pageIndex),this.component.publish(d.PDF_LOADED,p),this._$spinner.hide(),c.label=6;case 6:return this.component.publish(o.a.OPENED_MEDIA),[2]}}))}))},e.prototype._render=function(t){var e=this;if(f.b.getBool(this.extension.data.config.options.usePdfJs,!1)){this._pageRendering=!0,this._$zoomOutButton.enable(),this._$zoomInButton.enable();var n=this._scale-.5,i=this._scale+.5;n<this._minScale&&this._$zoomOutButton.disable(),i>this._maxScale&&this._$zoomInButton.disable(),this._pdfDoc.getPage(t).then((function(t){e._renderTask&&e._renderTask.cancel(),e._viewport=t.getViewport(e._scale),e._canvas.height=e._viewport.height,e._canvas.width=e._viewport.width;var n={canvasContext:e._ctx,viewport:e._viewport};e._renderTask=t.render(n),e._renderTask.promise.then((function(){e.component.publish(d.PAGE_INDEX_CHANGED,e._pageIndex),e._pageRendering=!1,null!==e._pageIndexPending&&(e._render(e._pageIndexPending),e._pageIndexPending=null),1===e._pageIndex?e.disablePrevButton():e.enablePrevButton(),e._pageIndex===e._pdfDoc.numPages?e.disableNextButton():e.enableNextButton()})).catch((function(t){}))}))}},e.prototype._queueRenderPage=function(t){this._pageRendering?this._pageIndexPending=t:this._render(t)},e.prototype.resize=function(){t.prototype.resize.call(this),this._$pdfContainer.width(this.$content.width()),this._$pdfContainer.height(this.$content.height()),this._$spinner.css("top",this.$content.height()/2-this._$spinner.height()/2),this._$spinner.css("left",this.$content.width()/2-this._$spinner.width()/2),this._$prevButton.css({top:(this.$content.height()-this._$prevButton.height())/2,left:this._$prevButton.horizontalMargins()}),this._$nextButton.css({top:(this.$content.height()-this._$nextButton.height())/2,left:this.$content.width()-(this._$nextButton.width()+this._$nextButton.horizontalMargins())}),this._viewport&&this._render(this._pageIndex)},e}(u.a),y=n(42),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w=function(t){function e(e){var n=t.call(this,e)||this;return n.firstButtonEnabled=!1,n.lastButtonEnabled=!1,n.nextButtonEnabled=!1,n.prevButtonEnabled=!1,n._pageIndex=0,n._pdfDoc=null,n}return m(e,t),e.prototype.create=function(){var e=this;this.setConfig("pdfHeaderPanel"),t.prototype.create.call(this),this.component.subscribe(d.PAGE_INDEX_CHANGED,(function(t){e._pageIndex=t,e.render()})),this.component.subscribe(d.PDF_LOADED,(function(t){e._pdfDoc=t})),this.$prevOptions=$('<div class="prevOptions"></div>'),this.$centerOptions.append(this.$prevOptions),this.$firstButton=$('\n          <button class="btn imageBtn first" tabindex="0" title="'+this.content.first+'">\n            <i class="uv-icon-first" aria-hidden="true"></i>'+this.content.first+"\n          </button>\n        "),this.$prevOptions.append(this.$firstButton),this.$firstButton.disable(),this.$prevButton=$('\n          <button class="btn imageBtn prev" tabindex="0" title="'+this.content.previous+'">\n            <i class="uv-icon-prev" aria-hidden="true"></i>'+this.content.previous+"\n          </button>\n        "),this.$prevOptions.append(this.$prevButton),this.$prevButton.disable(),this.$search=$('<div class="search"></div>'),this.$centerOptions.append(this.$search),this.$searchText=$('<input class="searchText" maxlength="50" type="text" tabindex="0" aria-label="'+this.content.pageSearchLabel+'"/>'),this.$search.append(this.$searchText),this.$total=$('<span class="total"></span>'),this.$search.append(this.$total),this.$searchButton=$('<a class="go btn btn-primary" tabindex="0">'+this.content.go+"</a>"),this.$search.append(this.$searchButton),this.$searchButton.disable(),this.$nextOptions=$('<div class="nextOptions"></div>'),this.$centerOptions.append(this.$nextOptions),this.$nextButton=$('\n          <button class="btn imageBtn next" tabindex="0" title="'+this.content.next+'">\n            <i class="uv-icon-next" aria-hidden="true"></i>'+this.content.next+"\n          </button>\n        "),this.$nextOptions.append(this.$nextButton),this.$nextButton.disable(),this.$lastButton=$('\n          <button class="btn imageBtn last" tabindex="0" title="'+this.content.last+'">\n            <i class="uv-icon-last" aria-hidden="true"></i>'+this.content.last+"\n          </button>\n        "),this.$nextOptions.append(this.$lastButton),this.$lastButton.disable(),this.$firstButton.onPressed((function(){e.component.publish(o.a.FIRST)})),this.$prevButton.onPressed((function(){e.component.publish(o.a.PREV)})),this.$nextButton.onPressed((function(){e.component.publish(o.a.NEXT)})),this.$lastButton.onPressed((function(){e.component.publish(o.a.LAST)})),this.$searchText.onEnter((function(){e.$searchText.blur(),e.search(e.$searchText.val())})),this.$searchText.click((function(){$(this).select()})),this.$searchButton.onPressed((function(){e.search(e.$searchText.val())}))},e.prototype.render=function(){1===this._pdfDoc.numPages?this.$centerOptions.hide():this.$centerOptions.show(),this.$searchText.val(this._pageIndex);var t=this.content.of;this.$total.html(f.n.format(t,this._pdfDoc.numPages.toString())),this.$searchButton.enable(),1===this._pageIndex?(this.$firstButton.disable(),this.$prevButton.disable()):(this.$firstButton.enable(),this.$prevButton.enable()),this._pageIndex===this._pdfDoc.numPages?(this.$lastButton.disable(),this.$nextButton.disable()):(this.$lastButton.enable(),this.$nextButton.enable())},e.prototype.search=function(t){if(t){var e=parseInt(this.$searchText.val(),10);isNaN(e)?this.extension.showMessage(this.extension.data.config.modules.genericDialogue.content.invalidNumber):this.component.publish(d.SEARCH,e)}else this.extension.showMessage(this.content.emptyValue)},e.prototype.resize=function(){t.prototype.resize.call(this)},e}(y.a),x=n(47),E=n(38),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(t){function e(e){return t.call(this,e)||this}return O(e,t),e.prototype.create=function(){this.setConfig("settingsDialogue"),t.prototype.create.call(this)},e}(E.a),B=n(39),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t){function e(e){return t.call(this,e)||this}return D(e,t),e.prototype.create=function(){this.setConfig("shareDialogue"),t.prototype.create.call(this)},e.prototype.update=function(){t.prototype.update.call(this),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)},e.prototype.resize=function(){t.prototype.resize.call(this)},e}(B.a),A=n(0),C=n(1),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.create=function(){var e=this;t.prototype.create.call(this),this.component.subscribe(o.a.CANVAS_INDEX_CHANGED,(function(t){e.viewCanvas(t)})),this.component.subscribe(o.a.THUMB_SELECTED,(function(t){e.component.publish(o.a.CANVAS_INDEX_CHANGED,t.index)})),this.component.subscribe(o.a.LEFTPANEL_EXPAND_FULL_START,(function(){e.shell.$centerPanel.hide(),e.shell.$rightPanel.hide()})),this.component.subscribe(o.a.LEFTPANEL_COLLAPSE_FULL_FINISH,(function(){e.shell.$centerPanel.show(),e.shell.$rightPanel.show(),e.resize()})),this.component.subscribe(o.a.SHOW_OVERLAY,(function(){e.IsOldIE()&&e.centerPanel.$element.hide()})),this.component.subscribe(o.a.HIDE_OVERLAY,(function(){e.IsOldIE()&&e.centerPanel.$element.show()})),this.component.subscribe(o.a.EXIT_FULLSCREEN,(function(){setTimeout((function(){e.resize()}),10)}))},e.prototype.render=function(){t.prototype.render.call(this)},e.prototype.IsOldIE=function(){var t=window.browserDetect.browser,e=window.browserDetect.version;return"Explorer"===t&&e<=9},e.prototype.isHeaderPanelEnabled=function(){return t.prototype.isHeaderPanelEnabled.call(this)&&f.b.getBool(this.data.config.options.usePdfJs,!0)},e.prototype.createModules=function(){t.prototype.createModules.call(this),this.isHeaderPanelEnabled()?this.headerPanel=new w(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()&&(this.leftPanel=new x.a(this.shell.$leftPanel)),this.centerPanel=new v(this.shell.$centerPanel),this.isRightPanelEnabled()&&(this.rightPanel=new l.a(this.shell.$rightPanel)),this.isFooterPanelEnabled()?this.footerPanel=new c.a(this.shell.$footerPanel):this.shell.$footerPanel.hide(),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new p(this.$downloadDialogue),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new I(this.$shareDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new P(this.$settingsDialogue),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init()},e.prototype.bookmark=function(){t.prototype.bookmark.call(this);var e=this.helper.getCurrentCanvas(),n=new r.a;n.index=this.helper.canvasIndex,n.label=C.LanguageMap.getValue(e.getLabel()),n.thumb=e.getProperty("thumbnail"),n.title=this.helper.getLabel(),n.trackingLabel=window.trackingLabel,n.type=A.a.DOCUMENT,this.fire(o.a.BOOKMARK,n)},e.prototype.dependencyLoaded=function(t,e){0===t&&(window.PDFObject=e)},e.prototype.getEmbedScript=function(t,e,n){var i=this.getAppUri()+"#?manifest="+this.helper.manifestUri+"&c="+this.helper.collectionIndex+"&m="+this.helper.manifestIndex+"&s="+this.helper.sequenceIndex+"&cv="+this.helper.canvasIndex;return f.n.format(t,i,e.toString(),n.toString())},e}(s.a);e.default=N},27:function(t,e,n){"use strict";var i;n.d(e,"a",(function(){return i})),function(t){t.CANVAS_RENDERINGS="canvasRenderings",t.CURRENT_VIEW="currentView",t.ENTIRE_DOCUMENT_AS_PDF="entireDocumentAsPdf",t.ENTIRE_DOCUMENT_AS_TEXT="entireDocumentAsText",t.ENTIRE_FILE_AS_ORIGINAL="entireFileAsOriginal",t.IMAGE_RENDERINGS="imageRenderings",t.MANIFEST_RENDERINGS="manifestRenderings",t.RANGE_RENDERINGS="rangeRenderings",t.SELECTION="selection",t.UNKNOWN="unknown",t.WHOLE_IMAGE_HIGH_RES="wholeImageHighRes",t.WHOLE_IMAGE_LOW_RES="wholeImageLowRes",t.WHOLE_IMAGES_HIGH_RES="wholeImagesHighRes"}(i||(i={}))},28:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i,o=n(3),s=n(22),r=n(27),a=n(4),h=n(1),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){return t.call(this,e)||this}return p(e,t),e.prototype.create=function(){var e=this;this.setConfig("downloadDialogue"),t.prototype.create.call(this),this.openCommand=o.a.SHOW_DOWNLOAD_DIALOGUE,this.closeCommand=o.a.HIDE_DOWNLOAD_DIALOGUE,this.component.subscribe(this.openCommand,(function(t){e.open(t)})),this.component.subscribe(this.closeCommand,(function(){e.close()})),this.$title=$("<h1>"+this.content.title+"</h1>"),this.$content.append(this.$title),this.$noneAvailable=$('<div class="noneAvailable">'+this.content.noneAvailable+"</div>"),this.$content.append(this.$noneAvailable),this.$downloadOptions=$('<ol class="options"></ol>'),this.$content.append(this.$downloadOptions),this.$footer=$('<div class="footer"></div>'),this.$content.append(this.$footer),this.$termsOfUseButton=$('<a href="#">'+this.extension.data.config.content.termsOfUse+"</a>"),this.$footer.append(this.$termsOfUseButton),this.$termsOfUseButton.onPressed((function(){e.component.publish(o.a.SHOW_TERMS_OF_USE)})),this.$element.hide(),this.updateTermsOfUseButton()},e.prototype.addEntireFileDownloadOptions=function(){if(this.isDownloadOptionAvailable(r.a.ENTIRE_FILE_AS_ORIGINAL)){this.$downloadOptions.empty();for(var t=this.extension.helper.getCurrentCanvas(),e=!1,n=t.getRenderings(),i=0;i<n.length;i++){var o=n[i],s=o.getFormat(),a="";s&&(a=s.toString()),this.addEntireFileDownloadOption(o.id,h.LanguageMap.getValue(o.getLabel()),a),e=!0}if(!e){var p=!1,c=t.getContent();for(i=0;i<c.length;i++){var l=c[i].getBody();if(l.length)(a=l[0].getFormat())&&(this.addEntireFileDownloadOption(l[0].id,"",a.toString()),p=!0)}p||this.addEntireFileDownloadOption(t.id,"","")}}},e.prototype.addEntireFileDownloadOption=function(t,e,n){var i;i=n?a.f.simplifyMimeType(n):this.getFileExtension(t),e||(e=this.content.entireFileAsOriginal),i&&(e+=" ("+i+")"),this.$downloadOptions.append('<li><a href="'+t+'" target="_blank" download tabindex="0">'+e+"</li>")},e.prototype.resetDynamicDownloadOptions=function(){this.renderingUrls=[],this.renderingUrlsCount=0,this.$downloadOptions.find("li.dynamic").remove()},e.prototype.getDownloadOptionsForRenderings=function(t,e,n){for(var i=t.getRenderings(),o=[],s=0;s<i.length;s++){var r=i[s];if(r){var p=h.LanguageMap.getValue(r.getLabel(),this.extension.getLocale()),c="downloadOption"+ ++this.renderingUrlsCount;p?p+=" ({0})":p=e;var l=a.f.simplifyMimeType(r.getFormat().toString());p=a.n.format(p,l),this.renderingUrls[c]=r.id;var u=$('<li class="option dynamic"><input id="'+c+'" data-mime="'+l+'" title="'+p+'" type="radio" name="downloadOptions" tabindex="0" /><label for="'+c+'">'+p+"</label></li>");o.push({type:n,button:u})}}return o},e.prototype.getSelectedOption=function(){return this.$downloadOptions.find("li.option input:checked")},e.prototype.getCurrentResourceId=function(){return this.extension.helper.getCurrentCanvas().externalResource.data.id},e.prototype.getCurrentResourceFormat=function(){var t=this.getCurrentResourceId();return t.substr(t.lastIndexOf(".")+1).toLowerCase()},e.prototype.updateNoneAvailable=function(){this.$downloadOptions.find("li:visible").length?this.$noneAvailable.hide():this.$noneAvailable.show()},e.prototype.updateTermsOfUseButton=function(){var t=this.extension.helper.getRequiredStatement();a.b.getBool(this.extension.data.config.options.termsOfUseEnabled,!1)&&t&&t.value?this.$termsOfUseButton.show():this.$termsOfUseButton.hide()},e.prototype.getFileExtension=function(t){var e=t.split(".").pop();return e.length>5||-1!==e.indexOf("/")?null:e},e.prototype.isMediaDownloadEnabled=function(){return this.extension.helper.isUIEnabled("mediaDownload")},e.prototype.isDownloadOptionAvailable=function(t){switch(t){case r.a.ENTIRE_FILE_AS_ORIGINAL:return this.isMediaDownloadEnabled()}return!0},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.resize=function(){this.setDockedPosition()},e}(s.a)},31:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){}},47:function(t,e,n){"use strict";var i,o=n(3),s=n(36),r=n(37),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.create=function(){this.setConfig("resourcesLeftPanel"),t.prototype.create.call(this)},e}(r.a),p=n(0),c=n(4),l=n(1);n.d(e,"a",(function(){return d}));var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.create=function(){this.setConfig("resourcesLeftPanel"),t.prototype.create.call(this),this.setTitle(this.content.title),this.$tabsContent=$('<div class="tabsContent"></div>'),this.$main.append(this.$tabsContent),this.$views=$('<div class="views"></div>'),this.$tabsContent.append(this.$views),this.$thumbsView=$('<div class="thumbsView"></div>'),this.$views.append(this.$thumbsView),this.$resourcesView=$('<div class="resourcesView"></div>'),this.$resources=$("<ul></ul>"),this.$resourcesView.append(this.$resources),this.$views.append(this.$resourcesView),this.thumbsView=new h(this.$thumbsView),this.dataBind()},e.prototype.dataBind=function(){this.dataBindThumbsView();var t=this.extension.helper.getCurrentCanvas().getResources();0===t.length&&this.$resourcesView.hide();for(var e=0;e<t.length;e++){var n=t[e].getResource();if(n){var i=l.LanguageMap.getValue(n.getLabel());if(i){var o=c.f.simplifyMimeType(n.getFormat().toString()),s=$('<li><a href="'+n.id+'" target="_blank">'+i+" ("+o+")</li>");this.$resources.append(s)}}}},e.prototype.dataBindThumbsView=function(){if(this.thumbsView){var t,e,n=this.extension.helper.getViewingDirection();!n||n!==p.f.LEFT_TO_RIGHT&&n!==p.f.RIGHT_TO_LEFT?(t=this.config.options.oneColThumbWidth,e=this.config.options.oneColThumbHeight):(t=this.config.options.twoColThumbWidth,e=this.config.options.twoColThumbHeight),void 0===t&&(t=100),void 0===e&&(e=100),this.thumbsView.thumbs=this.extension.helper.getThumbs(t,e),this.thumbsView.thumbs.length<2&&this.$thumbsView.hide(),this.thumbsView.databind()}},e.prototype.expandFullStart=function(){t.prototype.expandFullStart.call(this),this.component.publish(o.a.LEFTPANEL_EXPAND_FULL_START)},e.prototype.expandFullFinish=function(){t.prototype.expandFullFinish.call(this),this.component.publish(o.a.LEFTPANEL_EXPAND_FULL_FINISH)},e.prototype.collapseFullStart=function(){t.prototype.collapseFullStart.call(this),this.component.publish(o.a.LEFTPANEL_COLLAPSE_FULL_START)},e.prototype.collapseFullFinish=function(){t.prototype.collapseFullFinish.call(this),this.component.publish(o.a.LEFTPANEL_COLLAPSE_FULL_FINISH)},e.prototype.resize=function(){t.prototype.resize.call(this),this.$views.height(this.$main.height()),this.$resources.height(this.$main.height())},e}(s.a)}}]);